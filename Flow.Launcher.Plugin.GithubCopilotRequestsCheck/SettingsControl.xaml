<UserControl
    x:Class="Flow.Launcher.Plugin.GithubCopilotRequestsCheck.SettingsControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="340"
    d:DesignWidth="500"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    mc:Ignorable="d">

    <StackPanel Margin="10">
        <TextBlock Text="GitHub Copilot Premium Requests Checker Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,15"/>
        
        <TextBlock Text="GitHub Username (required):" Margin="0,0,0,5"/>
        <TextBox Text="{Binding Settings.GitHubUsername, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                 Margin="0,0,0,15" Padding="5"/>
        
        <TextBlock Text="Monthly Request Quota:" Margin="0,0,0,5"/>
        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
            <ComboBox x:Name="QuotaComboBox" 
                      SelectionChanged="QuotaComboBox_SelectionChanged"
                      Width="200">
                <ComboBoxItem Tag="50" Content="50 (Copilot Free)"/>
                <ComboBoxItem Tag="300" Content="300 (Copilot Pro / Business)"/>
                <ComboBoxItem Tag="1000" Content="1000 (Copilot Enterprise)"/>
                <ComboBoxItem Tag="1500" Content="1500 (Copilot Pro+)"/>
                <ComboBoxItem Tag="0" Content="Custom"/>
            </ComboBox>
            <TextBox x:Name="CustomQuotaTextBox" 
                     Text="{Binding Settings.MonthlyQuota, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                     Width="80" Margin="10,0,0,0" Padding="5"
                     Visibility="Collapsed"/>
        </StackPanel>
        <TextBlock Text="Select your GitHub Copilot plan's monthly premium request allowance." 
                   FontSize="13" Foreground="Gray" Margin="0,0,0,15"/>
        
        <TextBlock Text="GitHub Personal Access Token:" Margin="0,0,0,5"/>
        <PasswordBox x:Name="PatPasswordBox" 
                     PasswordChanged="PatPasswordBox_PasswordChanged"
                     Margin="0,0,0,5" Padding="5"/>
        <TextBlock TextWrapping="Wrap" FontSize="13" Foreground="Gray" Margin="0,0,0,5">
            <Run Text="Create a fine-grained PAT at github.com/settings/tokens with"/>
            <Run Text="read-only" FontWeight="Bold"/>
            <Run Text="access to 'Plan' permission only."/>
        </TextBlock>
        <TextBlock TextWrapping="Wrap" FontSize="13" Foreground="Gray" Margin="0,0,0,15">
            <Run Text="Alternatively, set the"/>
            <Run Text="GITHUB_COPILOT_PAT" FontWeight="Bold"/>
            <Run Text="environment variable (User scope)."/>
        </TextBlock>
    </StackPanel>
</UserControl>
